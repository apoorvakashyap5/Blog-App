{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { baseUrl } from '../../../utils/baseurl'; //action\n//we are going to pass token from frontend from localstorage to header.\n\nexport const createCategoryAction = createAsyncThunk('category/create', async (category, _ref) => {\n  let {\n    rejectWithValue,\n    getState,\n    dispatch\n  } = _ref;\n\n  //http call\n  try {\n    const {\n      data\n    } = await axios.post(`${baseUrl}/api/category`, {\n      title: category === null || category === void 0 ? void 0 : category.title //payload\n\n    });\n  } catch (error) {\n    var _error$response;\n\n    if (!error.message) {\n      throw error;\n    }\n\n    rejectWithValue(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.message);\n  }\n}); //-----------------------------------------------------------------------------\n//slices (reducers)\n\nconst categorySlices = createSlice({\n  name: 'category',\n  initialState: {},\n  extraReducers: builder => {\n    builder.addCase(createCategoryAction.pending, (state, action) => {\n      state.loading = true;\n    });\n    builder.addCase(createCategoryAction.fulfilled, (state, action) => {\n      state.category = action === null || action === void 0 ? void 0 : action.payload;\n      state.loading = false;\n      state.appErr = undefined;\n      state.serverErr = undefined;\n    });\n    builder.addCase(createCategoryAction.rejected, (state, action) => {\n      var _action$payload, _action$error;\n\n      state.loading = false;\n      state.appErr = action === null || action === void 0 ? void 0 : (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message;\n      state.serverErr = action === null || action === void 0 ? void 0 : (_action$error = action.error) === null || _action$error === void 0 ? void 0 : _action$error.message;\n    });\n  }\n});\nexport default categorySlices.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","baseUrl","createCategoryAction","category","rejectWithValue","getState","dispatch","data","post","title","error","message","response","categorySlices","name","initialState","extraReducers","builder","addCase","pending","state","action","loading","fulfilled","payload","appErr","undefined","serverErr","rejected","reducer"],"sources":["C:/Users/Apoorva/Desktop/udemy/blog-frontend/src/redux/slices/category/categorySlice.js"],"sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../../../utils/baseurl';\r\n\r\n//action\r\n//we are going to pass token from frontend from localstorage to header.\r\nexport const createCategoryAction=createAsyncThunk('category/create', async (category,{rejectWithValue,getState,dispatch})=>{\r\n  //http call\r\n  try{\r\n      const {data}=await axios.post(`${baseUrl}/api/category`, {\r\n          title: category?.title, //payload\r\n      });\r\n}\r\ncatch(error){\r\n    if(!error.message){\r\n    throw error;}\r\n rejectWithValue(error?.response?.message);\r\n    }\r\n});\r\n\r\n//-----------------------------------------------------------------------------\r\n//slices (reducers)\r\nconst categorySlices=createSlice({name:'category',\r\ninitialState: {},\r\nextraReducers:(builder)=>{\r\n  builder.addCase(createCategoryAction.pending,(state, action)=>{\r\n      state.loading=true;\r\n  });\r\n  builder.addCase(createCategoryAction.fulfilled,(state, action)=>{\r\n      state.category=action?.payload;\r\n      state.loading=false;\r\n      state.appErr=undefined;\r\n      state.serverErr=undefined;\r\n  });\r\n  builder.addCase(createCategoryAction.rejected,(state,action)=>{\r\n      state.loading=false;\r\n      state.appErr=action?.payload?.message;\r\n      state.serverErr=action?.error?.message;\r\n  });\r\n},\r\n});\r\n\r\n\r\nexport default categorySlices.reducer;"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,WAA1B,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,wBAAxB,C,CAEA;AACA;;AACA,OAAO,MAAMC,oBAAoB,GAACJ,gBAAgB,CAAC,iBAAD,EAAoB,OAAOK,QAAP,WAAsD;EAAA,IAAtC;IAACC,eAAD;IAAiBC,QAAjB;IAA0BC;EAA1B,CAAsC;;EAC1H;EACA,IAAG;IACC,MAAM;MAACC;IAAD,IAAO,MAAMP,KAAK,CAACQ,IAAN,CAAY,GAAEP,OAAQ,eAAtB,EAAsC;MACrDQ,KAAK,EAAEN,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEM,KADoC,CAC7B;;IAD6B,CAAtC,CAAnB;EAGL,CAJC,CAKF,OAAMC,KAAN,EAAY;IAAA;;IACR,IAAG,CAACA,KAAK,CAACC,OAAV,EAAkB;MAClB,MAAMD,KAAN;IAAa;;IAChBN,eAAe,CAACM,KAAD,aAACA,KAAD,0CAACA,KAAK,CAAEE,QAAR,oDAAC,gBAAiBD,OAAlB,CAAf;EACI;AACJ,CAZiD,CAA3C,C,CAcP;AACA;;AACA,MAAME,cAAc,GAACd,WAAW,CAAC;EAACe,IAAI,EAAC,UAAN;EACjCC,YAAY,EAAE,EADmB;EAEjCC,aAAa,EAAEC,OAAD,IAAW;IACvBA,OAAO,CAACC,OAAR,CAAgBhB,oBAAoB,CAACiB,OAArC,EAA6C,CAACC,KAAD,EAAQC,MAAR,KAAiB;MAC1DD,KAAK,CAACE,OAAN,GAAc,IAAd;IACH,CAFD;IAGAL,OAAO,CAACC,OAAR,CAAgBhB,oBAAoB,CAACqB,SAArC,EAA+C,CAACH,KAAD,EAAQC,MAAR,KAAiB;MAC5DD,KAAK,CAACjB,QAAN,GAAekB,MAAf,aAAeA,MAAf,uBAAeA,MAAM,CAAEG,OAAvB;MACAJ,KAAK,CAACE,OAAN,GAAc,KAAd;MACAF,KAAK,CAACK,MAAN,GAAaC,SAAb;MACAN,KAAK,CAACO,SAAN,GAAgBD,SAAhB;IACH,CALD;IAMAT,OAAO,CAACC,OAAR,CAAgBhB,oBAAoB,CAAC0B,QAArC,EAA8C,CAACR,KAAD,EAAOC,MAAP,KAAgB;MAAA;;MAC1DD,KAAK,CAACE,OAAN,GAAc,KAAd;MACAF,KAAK,CAACK,MAAN,GAAaJ,MAAb,aAAaA,MAAb,0CAAaA,MAAM,CAAEG,OAArB,oDAAa,gBAAiBb,OAA9B;MACAS,KAAK,CAACO,SAAN,GAAgBN,MAAhB,aAAgBA,MAAhB,wCAAgBA,MAAM,CAAEX,KAAxB,kDAAgB,cAAeC,OAA/B;IACH,CAJD;EAKD;AAjBgC,CAAD,CAAhC;AAqBA,eAAeE,cAAc,CAACgB,OAA9B"},"metadata":{},"sourceType":"module"}